<div class="marco">
    <div class="row">
        <div class="col">
            <h1>Punto de Venta</h1>
        </div>
    </div>
    <hr>
    <div class="row">
        <form [formGroup]="ventaForm">
            <!--mat-form-field>
                <mat-label>Código de Barras</mat-label>
                <input matInput formControlName="codigo_barras">
            </mat-form-field>
            &nbsp;-->
            <mat-form-field appearance="fill">
                <mat-label>Nombre del Producto</mat-label>
                <input matInput formControlName="nombre_producto" [matAutocomplete]="auto">
                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                    <mat-option *ngFor="let producto of filteredOptions | async" [value]="producto" (click)="seleccionar(producto)">
                        {{ producto.nombre.charAt(0).toUpperCase() + producto.nombre.slice(1) }}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
            <!--&nbsp;
            <button mat-flat-button color="accent" type="submit">Buscar</button-->
        </form>
    </div>
    <div class="row" *ngIf="productosSeleccionados.length != 0">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            
            <ng-container matColumnDef="producto">
                <th mat-header-cell *matHeaderCellDef>Producto</th>
                <td mat-cell *matCellDef="let producto">{{ producto.nombre.charAt(0).toUpperCase() + producto.nombre.slice(1) }}</td>
                <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>
            
            <ng-container matColumnDef="precio_venta">
                <th mat-header-cell *matHeaderCellDef>Precio de Venta</th>
                <td mat-cell *matCellDef="let producto">{{ producto.precio_venta | currency }}</td>
                <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>
            
            <ng-container matColumnDef="cantidad">
                <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                <td mat-cell *matCellDef><input type="number" min="0" step="1" matInput value="1"></td>
                <td mat-footer-cell *matFooterCellDef><b>Total</b></td>
            </ng-container>

            <ng-container matColumnDef="total_row">
                <th mat-header-cell *matHeaderCellDef>Total</th>
                <td mat-cell *matCellDef></td>
                <td mat-footer-cell *matFooterCellDef><b>una función pal total jejox</b></td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let producto; columns: displayedColumns;"></tr>
            <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
        </table>
    </div>
